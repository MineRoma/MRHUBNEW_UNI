-- ТЕСТОВЫЙ СКРИПТ ДЛЯ DELTA
repeat task.wait(1) until game:IsLoaded()
task.wait(1)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")

local function testNotify(title, text)
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = title,
            Text = text,
            Duration = 5
        })
    end)
    print("[TEST] " .. title .. ": " .. text)
end

-- Тест 1: Executor
local executorName = "Unknown"
pcall(function()
    if identifyexecutor then
        executorName = identifyexecutor()
    elseif getexecutorname then
        executorName = getexecutorname()
    end
end)
testNotify("Executor", executorName)

-- Тест 2: Request функция
local requestFunc = nil
local requestName = "NONE"

if request then
    requestFunc = request
    requestName = "request"
elseif http_request then
    requestFunc = http_request
    requestName = "http_request"
elseif http and http.request then
    requestFunc = http.request
    requestName = "http.request"
elseif syn and syn.request then
    requestFunc = syn.request
    requestName = "syn.request"
end
testNotify("Request", requestName)

-- Тест 3: Clipboard
local clipboardName = "NONE"
if setclipboard then
    clipboardName = "setclipboard"
elseif toclipboard then
    clipboardName = "toclipboard"
end
testNotify("Clipboard", clipboardName)

-- Тест 4: HWID
local hwidFunc = nil
local hwidName = "NONE"
if gethwid then
    hwidName = "gethwid"
elseif getdeviceid then
    hwidName = "getdeviceid"
elseif getandroidid then
    hwidName = "getandroidid"
end
testNotify("HWID", hwidName)

-- Тест 5: File system
local fileName = "NONE"
if writefile and readfile and isfile then
    fileName = "writefile+readfile+isfile"
elseif writefile then
    fileName = "only writefile"
end
testNotify("Files", fileName)

-- Тест 6: HTTP запрос
if requestFunc then
    local success, result = pcall(function()
        local response = requestFunc({
            Url = "https://httpbin.org/get",
            Method = "GET"
        })
        return response
    end)
    
    if success and result then
        testNotify("HTTP Test", "Status: " .. tostring(result.StatusCode))
    else
        testNotify("HTTP Test", "FAILED: " .. tostring(result))
    end
else
    testNotify("HTTP Test", "No request function!")
end

-- Тест 7: GUI
local guiSuccess = false
local guiLocation = "NONE"

pcall(function()
    local sg = Instance.new("ScreenGui")
    sg.Name = "TestGUI"
    sg.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")
    guiSuccess = true
    guiLocation = "PlayerGui"
    
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 200, 0, 100)
    frame.Position = UDim2.new(0.5, -100, 0.5, -50)
    frame.BackgroundColor3 = Color3.fromRGB(85, 24, 134)
    frame.Parent = sg
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = frame
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = "DELTA TEST OK!\n" .. executorName
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.GothamBold
    label.TextSize = 18
    label.Parent = frame
    
    task.delay(5, function()
        sg:Destroy()
    end)
end)

if not guiSuccess then
    pcall(function()
        local sg = Instance.new("ScreenGui")
        sg.Name = "TestGUI"
        sg.Parent = game:GetService("CoreGui")
        guiSuccess = true
        guiLocation = "CoreGui"
        sg:Destroy()
    end)
end

testNotify("GUI", guiLocation .. " - " .. tostring(guiSuccess))

testNotify("DONE", "Check all results above!")
